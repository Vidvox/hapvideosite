

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>HAP Codecs</title>

  <!-- Search engines use this for the description of your site in search
  results if they can't find any obvious text to grab off the site -->
  <meta name="description" content="">

  <!-- This image is shown when hapcodecs.org is linked to on social
  media or in most chat apps -->
  <meta name="og:image" content="http://jackturner.homeip.net/images/home-4.jpg">

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="styles/hap.css">

  <link rel="apple-touch-icon" sizes="180x180" href="./images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./images/favicon-16x16.png">
  <link rel="mask-icon" href="./images/safari-pinned-tab.svg" color="#33272C">
  <link rel="shortcut icon" href="./images/favicon.ico">
</head>

<body>

<header id="nav">

  <a id="logo" href="/" title="HAP"><img src="images/hap-logo.svg" width="104" height="35" alt="HAP" /></a>

  <div class="hamburger">
    <span class="hamburger__top-bun"></span>
    <span class="hamburger__bottom-bun"></span>
  </div>

  <nav>
    <ul>
      <li><a href="./showcase.html"  title="">Showcase</a></li>
      <li><a href="./using-hap.html" class="active"  title="">Using Hap</a></li>
      <li><a href="./integrations.html"  title="">Integrations</a></li>
      <li><a href="./benchmarks.html"  title="">Benchmarks</a></li>
      <li><a href="./developers.html"  title="">Developers</a></li>
    </ul>
  </nav>

</header>

<header class="cool-header">
    <h1>How to use HAP</h1>
    <span class="subheading">Converting your videos into HAP</span>
</header>

<div id="using-hap-intro">
    <p>Movies that are encoded with the Hap codecs are typically exported into standard .mov or .avi containers just like other video files you are used to working with.</p>
    <h3>Choosing The Right Codec For The Job: Hap, Hap Alpha, Hap Q and Hap Q Alpha</h3>
    <p>There are four different flavors of Hap to choose from when encoding your clips.</p>
    <ul class="hap-flavors">
        <li><strong>Hap</strong> has the lowest data-rate and reasonable image quality.</li>
        <li><strong>Hap Alpha</strong> has similar image quality to Hap, and supports an Alpha channel.</li>
        <li><strong>Hap Q</strong> has improved image quality, at the expense of larger file sizes.</li>
        <li><strong>Hap Q Alpha</strong> has improved image quality and an Alpha channel, at the expense of larger file sizes.</li>
    </ul>
    <p>Some encoders allow for encoding with an optional specified 'chunk' size to optimize for ultra high resolution video on a particular hardware system. This setting should typically only be used if you are reaching a CPU performance bottleneck during playback. As a general guide, for HD footage or smaller you can set the chunk size to 1 and for 4k or larger footage the number of chunks should never exceed the number of CPU cores on the computer used for playback. The QuickTime component installs with most software or can be downloaded separately from the <a href="https://github.com/Vidvox/hap-qt-codec/releases" target="_blank">GitHub releases page</a>.</p>
</div>

<div id="using-hap-instructions">

    <section class="video-section">
      <div class="instructions">
        <h2>Transcoding to Hap using the QuickTime export panel</h2>
        <p>Many applications and batch exporters support QuickTime as an export option which includes a standard option panel for codec selection and parameter adjustment. When the Hap QuickTime component is installed, the Hap, Hap Alpha, Hap Q and Hap Q Alpha options will show up in the "Compression Type" menu. When using Hap and Hap Alpha a slider is provided for adjusting the output quality level.</p>
      </div>
      <div class="media">
        <iframe src="https://player.vimeo.com/video/264351083?title=0&byline=0&portrait=0" width="640" height="343" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
      </div>
    </section>

    <section class="video-section">
        <div class="media">
          <iframe src="https://player.vimeo.com/video/264351072?title=0&byline=0&portrait=0" width="640" height="376" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
          <p>The <a href="https://github.com/Vidvox/hap-in-avfoundation/releases" target="_blank">AVF Batch Exporter</a> is a free simple transcoding tool is arranged into three settings panels and can be used to convert multiple files to the specified output codec settings in a single export session.</p>
        </div>
        <div class="instructions">
            <h2>Batch Exporting on macOS with the AVF Batch Exporter</h2>
            <ol>
                <li>Files To Convert: Drag movie files to this area from the Finder or click the Import button to select media to be transcoded.
                <li>
                    Output Format: Click the 'Settings' button to open the panel for adjusting the audio and video codec setting options. For audio and video you can specify whether the media should be transcoded or left unchanged.
                    <p>In addition to specifying a video codec, when using the Hap codecs the following sub options may appear depending on the format.</p>
                    <ul>
                        <li>Quality: When available adjusts the overall tradeoff between image quality and encoding speed.</li>
                        <li>Chunked Encoding/Decoding: For the Hap codecs a chunking size can be set as an optimization for specific hardware. The default is 1 and should never exceed the number of CPU cores in the playback system.</li>
                    </ul>
                </li>
                <li>File Renaming and Destination Folder: Optional settings for removing, appending or prefixing characters to the file name string and adjusting the output folder.</li>
            </ol>
        </div>
    </section>

    <section>
        <h2>Encoding to Hap from the command line using FFmpeg</h2>
        <p style="padding-bottom: 40px;">For users who prefer working with a command line or need to access advanced encoding settings for Hap the popular FFmpeg library can be used to work with Hap movies.</p>
        <div class="instructions" style="margin-right: 8.0702%">
            <h3>Installing FFmpeg</h3>
            <p>If this is your first time using FFmpeg you may need to install it on your system, or compile it from source. In either case be sure that Snappy is enabled as part of the binary. If you already have FFmpeg on your system with Snappy enabled, you can skip this step.</p>
            <p>You can check that your version of FFmpeg can encode Hap using</p>
            <pre><code>ffmpeg -encoders | grep hap</code></pre>
            <p>If the last line of output ends with <code>Vidvox Hap encoder</code> then you can encode Hap. Otherwise install FFmpeg using one of these methods:</p>
            <ul>
                <li>
                    On macOS you can use <a href="https://brew.sh">Homebrew</a> to install FFmpeg with the following command:
                    <p>
                        <pre><code>brew install ffmpeg --with-snappy</code></pre>
                    </p>
                </li>
                <li>The semi-official <a href="http://ffmpeg.zeranoe.com/builds/">Windows FFmpeg downloads</a> have Snappy support enabled.</li>
                <li>Ubuntu Linux and some other distributions have Snappy support enabled</li>
                <li>Visit <a href="https://trac.ffmpeg.org/wiki/CompilationGuide">the FFmpeg wiki</a> for instructions on how to compile FFmpeg for macOS, Windows and Linux. Along with the other options you choose, you must pass <code>--enable-libsnappy</code> to the configure script before building.</li>
            </ul>
        </div>
        <div class="instructions">
            <h3>Invoke FFmpeg to convert your files.</h3>
            <ul>
                <li>
                    For Hap movies use the following command:
                    <pre><code>ffmpeg -i yourSourceFile.mov -c:v hap outputName.mov</code></pre>
                </li>
                <li>
                    For Hap Alpha movies use the following command:
                    <pre><code>ffmpeg -i yourSourceFile.mov -c:v hap -format hap_alpha outputName.mov</code></pre>
                </li>
                <li>
                    For Hap Q movies use the following command:
                    <pre><code>ffmpeg -i yourSourceFile.mov -c:v hap -format hap_q outputName.mov</code></pre>
                </li>
            </ul>
            <p>In addition you can also specify the following optional flags that can be used to create Hap movies that are highly optimized for specific playback hardware. You should only use these in extreme cases if you have reached a specific bottleneck when using the default settings.</p>
            <ul>
                <li>
                    <code>-chunks N</code> (default is 1; N is a number from 1-64 that does not exceed the number of CPU cores in the playback system)
                    <pre><code>ffmpeg -i yourSourceFile.mov -c:v hap -format hap_q -chunks 4 outputName.mov</code></pre>
                </li>
                <li>
                    <code>-compressor snappy</code> or <code>-compressor none</code> (default is snappy; when set to none may marginally reduce CPU usage in exchange for much larger file sizes that are a fixed bit-rate)
                    <pre><code>ffmpeg -i yourSourceFile.mov -c:v hap -compressor none outputName.mov</code></pre>
                </li>
            </ul>

        </div>
    </section>

</div>

<footer>
  <small><a href="https://vidvox.net/" title="VIDVOX Website">&copy; VIDVOX, LLC</a></small>
  <ul class="footer-links">
    <li><a href="mailto:hap@vidvox.net">Contact</a></li>
  </ul>
  <ul class="social-links">
    <li>
      <a href="https://www.facebook.com/HAP-Video-159697174832298" title="">
        <svg width="36px" height="36px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <defs></defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.8"> <g id="HAP-Home-R1B" transform="translate(-938.000000, -4405.000000)"> <g id="footer" transform="translate(0.000000, 4346.000000)"> <g id="facebook" transform="translate(938.000000, 59.000000)"> <circle id="Oval-2" fill="#29487d" cx="18" cy="18" r="18"></circle> <path d="M20.3145197,29 L20.3145197,17.998712 L23.5687449,17.998712 L24,14.2076072 L20.3145197,14.2076072 L20.3200486,12.3101227 C20.3200486,11.3213442 20.4207209,10.7915341 21.9425538,10.7915341 L23.9769629,10.7915341 L23.9769629,7 L20.7222769,7 C16.8128757,7 15.4368678,8.8390937 15.4368678,11.9318709 L15.4368678,14.2080366 L13,14.2080366 L13,17.9991413 L15.4368678,17.9991413 L15.4368678,29 L20.3145197,29 L20.3145197,29 L20.3145197,29 L20.3145197,29 Z" fill="#FFFFFF"></path> </g> </g> </g> </g> </svg>
      </a>
    </li>
    <li>
      <a href="https://twitter.com/hapvideo" title="">
        <svg width="36px" height="36px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <defs></defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.8"> <g id="HAP-Home-R1B" transform="translate(-984.000000, -4405.000000)"> <g id="footer" transform="translate(0.000000, 4346.000000)"> <g id="twitter" transform="translate(984.000000, 59.000000)"> <circle id="Oval-2" fill="#1da1f2" cx="18" cy="18" r="18"></circle> <path d="M18.729944,14.8761011 L17.9351333,14.7754721 C15.0420225,14.3897275 12.5145246,13.0815504 10.3685358,10.8844837 L9.31938569,9.79433606 L9.0491501,10.5993681 C8.4768864,12.3939188 8.84249928,14.2890985 10.0347153,15.5637326 C10.6705638,16.2681357 10.5274979,16.3687647 9.43065921,15.9494772 C9.0491501,15.8153051 8.7153296,15.7146761 8.68353715,15.7649907 C8.5722637,15.8823912 8.95377281,17.4085978 9.25580085,18.0123719 C9.66910241,18.850947 10.5116017,19.6727505 11.433582,20.1591241 L12.2124965,20.5448686 L11.2905161,20.5616401 C10.4003282,20.5616401 10.3685358,20.5784116 10.4639131,20.9306131 C10.7818374,22.0207608 12.0376382,23.1779944 13.436505,23.6811394 L14.4220701,24.033341 L13.5636746,24.570029 C12.2919776,25.3415181 10.7977335,25.7775772 9.30348946,25.8111202 C8.58815985,25.8278916 8,25.8949776 8,25.9452922 C8,26.1130071 9.93933799,27.0522113 11.0679692,27.4211843 C14.4538626,28.5113319 18.4756046,28.0417298 21.4958851,26.1800932 C23.6418739,24.8551445 25.7878628,22.2220188 26.7893242,19.6727505 C27.3297954,18.3142589 27.8702667,15.8320767 27.8702667,14.6413 C27.8702667,13.869811 27.9179553,13.769182 28.8081432,12.8467494 C29.3327183,12.3100613 29.8255009,11.7230588 29.9208782,11.5553437 C30.0798403,11.2366852 30.0639442,11.2366852 29.2532373,11.5218007 C27.9020591,12.0249458 27.7113045,11.9578598 28.3789455,11.2031422 C28.8717281,10.6664541 29.459888,9.69370707 29.459888,9.40859149 C29.459888,9.35827703 29.2214448,9.44213456 28.9512092,9.593078 C28.6650773,9.76079306 28.0292288,10.0123656 27.5523424,10.1633091 L26.6939469,10.4484246 L25.9150324,9.89496504 C25.4858346,9.593078 24.8817786,9.25764804 24.5638543,9.15701898 C23.7531474,8.92221801 22.5132428,8.955761 21.7820169,9.22410497 C19.7949903,9.97882257 18.5391894,11.9243168 18.6822554,14.0542975 L18.729944,14.8761011 Z" fill="#FFFFFF"></path> </g> </g> </g> </g> </svg>
      </a>
    </li>
    <li>
      <a href="https://github.com/vidvox/hap"><img src="./images/github-logo.png" alt="" width="36"></a>
    </li>
  </ul>
</footer>

  <script src="scripts/jquery-2.2.4.min.js"></script>
  <script src="scripts/masonry.pkgd.min.js"></script>
  <script src="scripts/hap.js"></script>
  

  <script>
    window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
    ga('create','UA-92175193-1','auto');ga('send','pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</body>
</html>

